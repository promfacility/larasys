(function(t){function e(e){for(var s,r,l=e[0],u=e[1],o=e[2],d=0,h=[];d<l.length;d++)r=l[d],a[r]&&h.push(a[r][0]),a[r]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(t[s]=u[s]);c&&c(e);while(h.length)h.shift()();return n.push.apply(n,o||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,l=1;l<i.length;l++){var u=i[l];0!==a[u]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=i[0]))}return t}var s={},a={app:0},n=[];function r(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=s,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var o=0;o<l.length;o++)e(l[o]);var c=u;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var s=i("2b0e"),a=(i("c4ca"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("navbar"),i("router-view")],1)}),n=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"ui grid",staticStyle:{padding:"25px"}},[i("div",{staticClass:"one wide column"},[i("i",{staticClass:"sidebar icon",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.toggleSidebar()}}})])]),i("div",{staticClass:"ui sidebar inverted vertical menu"},[i("a",{staticClass:"item",on:{click:function(e){return t.goTo("builds")}}},[t._v("\n    \t  \t  Builds\n    \t  \t")]),i("a",{staticClass:"item"},[t._v("\n    \t  \t  2\n    \t  \t")]),i("a",{staticClass:"item"},[t._v("\n    \t  \t  3\n    \t  \t")])])])},l=[],u=i("1157");window.jQuery=u;var o={name:"navbar",data:function(){return{builds:[]}},methods:{toggleSidebar:function(){u(".ui.sidebar").sidebar("toggle")},goTo:function(t){this.$router.push({name:t})}}},c=o,d=i("2877"),h=Object(d["a"])(c,r,l,!1,null,null,null),b=h.exports,v={components:{navbar:b}},m=v,p=(i("5c0b"),Object(d["a"])(m,a,n,!1,null,null,null)),f=p.exports,g=i("8c4f"),_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ui container",staticStyle:{"padding-top":"50px"}},[i("div",{staticClass:"ui stackable relaxed grid"},t._l(t.builds,function(e){return i("div",{key:e,staticClass:"four wide column"},[i("div",{staticClass:"ui segment",staticStyle:{cursor:"pointer",padding:"25px"},on:{click:function(i){return t.goToBuild(e)}}},[t.buildsStats[e].computed.length>t.buildsStats[e].acquired.length?i("div",{staticClass:"ui top red attached label"},[t._v(t._s(e))]):i("div",{staticClass:"ui top green attached label"},[t._v(t._s(e))]),i("h1",[t._v(" "+t._s(e)+" ")]),i("p",[t._v(" Last stl: "+t._s(t.buildsStats[e].lastmodcom)+" ")]),i("p",[t._v(" Last image: "+t._s(t.buildsStats[e].lastmodimg)+" ")]),i("div",{staticClass:"ui tiny label"},[t._v(" Stl: "+t._s(t.buildsStats[e].builds.length)+" ")]),i("div",{staticClass:"ui tiny label"},[t._v(" Render: "+t._s(t.buildsStats[e].computed.length)+" ")]),i("div",{staticClass:"ui tiny label"},[t._v(" Images: "+t._s(t.buildsStats[e].acquired.length)+" ")])])])}),0)])},S=[],y=i("1157");window.jQuery=y;var w={name:"builds",data:function(){return{builds:[],buildsStats:{}}},components:{},methods:{goToBuild:function(t){this.$router.push({name:"build",params:{basename:t}})}},mounted:function(){},beforeMount:function(){y.getJSON(this.$server+"/larasys/builds",function(t){this.builds=t.reverse()}.bind(this)),y.getJSON(this.$server+"/larasys/builds/stats",function(t){this.buildsStats=t}.bind(this))}},C=w,k=Object(d["a"])(C,_,S,!1,null,null,null),q=k.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ui container",staticStyle:{"padding-top":"50px"}},[i("h1",[t._v(" Build: "+t._s(t.basename)+" ")]),i("h2",[t._v(" Selected: "+t._s(t.selectedThumbs[0])+" ")]),i("div",{staticClass:"ui stackable relaxed grid"},[i("div",{staticClass:"four wide column",staticStyle:{"overflow-y":"scroll",height:"85vh"}},t._l(t.files.thumb,function(e){return i("div",{key:e[0],staticClass:"ui segment",staticStyle:{cursor:"pointer"}},[i("img",{attrs:{src:t.imageSrc(e[0]),width:"100%"},on:{click:function(i){return t.selectThumb(e)}}})])}),0),1==t.allThumbForStl?i("div",{staticClass:"twelve wide column"},[i("div",{staticClass:"ui stackable relaxed grid"},[i("div",{staticClass:"four wide column",staticStyle:{"overflow-y":"scroll",height:"85vh"}},t._l(t.selectedThumbs,function(e){return i("div",{key:e,staticClass:"ui segment"},[i("img",{attrs:{src:t.imageSrc(e),width:"100%"}})])}),0),i("div",{staticClass:"twelve wide column"},[0==t.takingPhoto?i("div",{staticClass:"ui blue button",on:{click:t.takePicture}},[t._v(" Take picture ")]):i("div",{staticClass:"ui label"},[t._v("\n\t\t\t\t\t\t"+t._s(t.acqState)+"\n\t\t\t\t\t")]),"error"==t.acqState?i("div",{staticClass:"ui red label"},[t._v("\n\t\t\t\t\t\t"+t._s(t.acqState)+"\n\t\t\t\t\t")]):t._e(),1==t.showCapturedImage?i("div",[i("img",{attrs:{src:t.imageSrcAcq(),width:"100%"}})]):t._e()])])]):t._e()])])},T=[],x=(i("28a5"),i("1157"));window.jQuery=x;var j={name:"build",props:["basename"],data:function(){return{files:[],allThumbForStl:!1,selectedThumbs:[],takingPhoto:!1,acqInterval:void 0,acqState:void 0,showCapturedImage:!1,lastImageName:void 0}},components:{},methods:{imageSrc:function(t){return this.$server+"/larasys/thumb/stream?build="+this.basename+"&thumb="+t},imageSrcAcq:function(){return this.$server+"/larasys/acq/stream?build="+this.basename+"&image="+this.lastImageName},selectThumb:function(t){this.allThumbForStl=!0,this.selectedThumbs=t},takePicture:function(){1!=this.takingPhoto?x.getJSON(this.$server+"/larasys/build/acquired",{basename:this.basename},function(t){var e=this.selectedThumbs[0].split("_")[1],i=void 0==t.thumb[e]?0:t.thumb[e].length,s="aq_"+e+"_"+i+".png";this.lastImageName=s,this.takingPhoto=!0,this.showCapturedImage=!1,x.post(this.$server+"/larasys/photo/acquire",{image_name:s,build:this.basename},function(t){}.bind(this)),this.acqInterval=setInterval(function(){x.getJSON(this.$server+"/larasys/photo/state",{image:s},function(t){this.acqState=t,void 0!=t.state.length&&t.state.length>0&&(this.acqState=t.state[t.state.length-1],"uploaded"!=this.acqState&&"error"!=this.acqState||(this.takingPhoto=!1,this.showCapturedImage=!0,clearInterval(this.acqInterval)))}.bind(this))}.bind(this),500)}.bind(this)):alert("Already taking picture, wait")}},beforeMount:function(){x.getJSON(this.$server+"/larasys/build/thumbs",{basename:this.basename},function(t){this.files=t}.bind(this))}},$=j,I=Object(d["a"])($,O,T,!1,null,null,null),P=I.exports;s["a"].use(g["a"]);var N=new g["a"]({routes:[{path:"/",name:"builds",component:q},{path:"/build",name:"build",component:P,props:!0}]});s["a"].config.productionTip=!1,s["a"].prototype.$server="";var J=i("1157");window.jQuery=J,i("c5ec"),i("c86c"),new s["a"]({router:N,render:function(t){return t(f)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";var s=i("5e27"),a=i.n(s);a.a},"5e27":function(t,e,i){}});
//# sourceMappingURL=app.1a635feb.js.map